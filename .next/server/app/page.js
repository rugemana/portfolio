(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8678:e=>{"use strict";e.exports=import("pg")},325:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>f,routeModule:()=>g,tree:()=>h});var n=i(908);i(1506),i(5866);var s=i(3191),a=i(8716),o=i(7922),l=i.n(o),u=i(5231),c={};for(let e in u)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>u[e]);i.d(t,c);var d=e([n]);n=(d.then?(await d)():d)[0];let h=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,908)),"C:\\Users\\christian\\Downloads\\nextjs-drizzle-starter\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,1506)),"C:\\Users\\christian\\Downloads\\nextjs-drizzle-starter\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}],f=["C:\\Users\\christian\\Downloads\\nextjs-drizzle-starter\\app\\page.tsx"],p="/page",m={require:i,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}});r()}catch(e){r(e)}})},3410:(e,t,i)=>{let r={"03e2a877c1d292fed39a8eccad6e80f5fd7e4900":()=>Promise.resolve().then(i.bind(i,5274)).then(e=>e.createProject)};async function n(e,...t){return(await r[e]()).apply(null,t)}e.exports={"03e2a877c1d292fed39a8eccad6e80f5fd7e4900":n.bind(null,"03e2a877c1d292fed39a8eccad6e80f5fd7e4900")}},4064:()=>{},7358:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,2994,23)),Promise.resolve().then(i.t.bind(i,6114,23)),Promise.resolve().then(i.t.bind(i,9727,23)),Promise.resolve().then(i.t.bind(i,9671,23)),Promise.resolve().then(i.t.bind(i,1868,23)),Promise.resolve().then(i.t.bind(i,4759,23))},5303:()=>{},5274:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{createProject:()=>c});var n=i(4330);i(166);var s=i(9487),a=i(3280),o=i(7708),l=i(618),u=e([s]);async function c(e){let t=e.get("name")?.toString(),i=e.get("description")?.toString();t&&(await s.db.insert(a.projects).values({name:t,description:i}),(0,o.revalidatePath)("/"))}s=(u.then?(await u)():u)[0],(0,l.h)([c]),(0,n.j)("03e2a877c1d292fed39a8eccad6e80f5fd7e4900",c),r()}catch(e){r(e)}})},727:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.d(t,{Z:()=>l});var n=i(9510),s=i(9487),a=i(3280),o=e([s]);async function l(){let e=await s.db.select().from(a.projects);return n.jsx("div",{className:"space-y-3 mt-6",children:e.map(e=>(0,n.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow",children:[n.jsx("h3",{className:"font-bold text-lg",children:e.name}),e.description&&n.jsx("p",{className:"text-gray-300 mt-1",children:e.description})]},e.id))})}s=(o.then?(await o)():o)[0],r()}catch(e){r(e)}})},1506:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s,metadata:()=>n});var r=i(9510);i(7272);let n={title:"Rugemana Project Manager",description:"Track and manage your projects"};function s({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},908:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{default:()=>c});var n=i(9510),s=i(5274),a=i(3276),o=i(2041),l=i(727),u=e([s,l]);function c(){return(0,n.jsxs)("main",{className:"min-h-screen bg-gray-950 text-white p-6 max-w-2xl mx-auto",children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold mb-6 flex items-center gap-2",children:[n.jsx(a.Z,{})," Project Manager"]}),(0,n.jsxs)("form",{action:s.createProject,className:"space-y-4 mb-8 bg-gray-800 p-4 rounded-lg shadow-md",children:[n.jsx("input",{name:"name",placeholder:"Project Name",required:!0,className:"w-full p-2 rounded bg-gray-700 text-white placeholder:text-gray-400"}),n.jsx("textarea",{name:"description",placeholder:"Project Description",className:"w-full p-2 rounded bg-gray-700 text-white placeholder:text-gray-400"}),(0,n.jsxs)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 transition px-4 py-2 rounded flex items-center gap-2",children:[n.jsx(o.Z,{size:18})," Create Project"]})]}),n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"\uD83D\uDCCB Your Projects"}),n.jsx(l.Z,{})]})}[s,l]=u.then?(await u)():u,r()}catch(e){r(e)}})},3280:(e,t,i)=>{"use strict";i.r(t),i.d(t,{projects:()=>h});var r=i(8324),n=i(9326),s=i(2118);class a extends s.b1{static [n.Q]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new o(e,this.config)}}class o extends s.df{static [n.Q]="PgSerial";getSQLType(){return"serial"}}class l extends s.b1{static [n.Q]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new u(e,this.config)}}class u extends s.df{static [n.Q]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function c(e,t={}){return new l(e,t)}var d=i(1575);let h=(0,r.af)("projects",{id:new a("id").primaryKey(),name:c("name").notNull(),description:c("description"),createdAt:(0,d.AB)("created_at").defaultNow()})},9487:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.d(t,{db:()=>u});var n=i(8029),s=i(8678),a=i(3280),o=e([s,n]);[s,n]=o.then?(await o)():o;let l=new s.Pool({connectionString:process.env.DATABASE_URL}),u=(0,n.t)(l,{schema:a});r()}catch(e){r(e)}})},7708:(e,t,i)=>{let r={unstable_cache:i(9239).A,revalidateTag:i(7595).revalidateTag,revalidatePath:i(7595).revalidatePath,unstable_noStore:i(8104).P};e.exports=r,t.unstable_cache=r.unstable_cache,t.revalidatePath=r.revalidatePath,t.revalidateTag=r.revalidateTag,t.unstable_noStore=r.unstable_noStore},618:(e,t)=>{"use strict";function i(e){for(let t=0;t<e.length;t++){let i=e[t];if("function"!=typeof i)throw Error(`A "use server" file can only export async functions, found ${typeof i}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`)}}Object.defineProperty(t,"h",{enumerable:!0,get:function(){return i}})},4330:(e,t,i)=>{"use strict";Object.defineProperty(t,"j",{enumerable:!0,get:function(){return n}});let r=i(1749);function n(e,t){return(0,r.registerServerReference)(t,e,null)}},7971:(e,t,i)=>{"use strict";var r=i(7049),n={stream:!0},s=new Map;function a(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function o(){}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,u=Symbol.for("react.element"),c=Symbol.for("react.lazy"),d=Symbol.iterator,h=Array.isArray,f=Object.getPrototypeOf,p=Object.prototype,m=new WeakMap;function g(e,t,i,r){var n=1,s=0,a=null;e=JSON.stringify(e,function e(o,l){if(null===l)return null;if("object"==typeof l){if("function"==typeof l.then){null===a&&(a=new FormData),s++;var u,c,g=n++;return l.then(function(r){r=JSON.stringify(r,e);var n=a;n.append(t+g,r),0==--s&&i(n)},function(e){r(e)}),"$@"+g.toString(16)}if(h(l))return l;if(l instanceof FormData){null===a&&(a=new FormData);var y=a,b=t+(o=n++)+"_";return l.forEach(function(e,t){y.append(b+t,e)}),"$K"+o.toString(16)}if(l instanceof Map)return l=JSON.stringify(Array.from(l),e),null===a&&(a=new FormData),o=n++,a.append(t+o,l),"$Q"+o.toString(16);if(l instanceof Set)return l=JSON.stringify(Array.from(l),e),null===a&&(a=new FormData),o=n++,a.append(t+o,l),"$W"+o.toString(16);if(null===(c=l)||"object"!=typeof c?null:"function"==typeof(c=d&&c[d]||c["@@iterator"])?c:null)return Array.from(l);if((o=f(l))!==p&&(null===o||null!==f(o)))throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return l}if("string"==typeof l)return"Z"===l[l.length-1]&&this[o]instanceof Date?"$D"+l:l="$"===l[0]?"$"+l:l;if("boolean"==typeof l)return l;if("number"==typeof l)return Number.isFinite(u=l)?0===u&&-1/0==1/u?"$-0":u:1/0===u?"$Infinity":-1/0===u?"$-Infinity":"$NaN";if(void 0===l)return"$undefined";if("function"==typeof l){if(void 0!==(l=m.get(l)))return l=JSON.stringify(l,e),null===a&&(a=new FormData),o=n++,a.set(t+o,l),"$F"+o.toString(16);throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof l){if(Symbol.for(o=l.description)!==l)throw Error("Only global symbols received from Symbol.for(...) can be passed to Server Functions. The symbol Symbol.for("+l.description+") cannot be found among global symbols.");return"$S"+o}if("bigint"==typeof l)return"$n"+l.toString(10);throw Error("Type "+typeof l+" is not supported as an argument to a Server Function.")}),null===a?i(e):(a.set(t+"0",e),0===s&&i(a))}var y=new WeakMap;function b(e){var t=m.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var i=null;if(null!==t.bound){if((i=y.get(t))||(r=t,a=new Promise(function(e,t){n=e,s=t}),g(r,"",function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}a.status="fulfilled",a.value=e,n(e)},function(e){a.status="rejected",a.reason=e,s(e)}),i=a,y.set(t,i)),"rejected"===i.status)throw i.reason;if("fulfilled"!==i.status)throw i;t=i.value;var r,n,s,a,o=new FormData;t.forEach(function(t,i){o.append("$ACTION_"+e+":"+i,t)}),i=o,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:i}}function v(e,t){var i=m.get(this);if(!i)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(i.id!==e)return!1;var r=i.bound;if(null===r)return 0===t;switch(r.status){case"fulfilled":return r.value.length===t;case"pending":throw r;case"rejected":throw r.reason;default:throw"string"!=typeof r.status&&(r.status="pending",r.then(function(e){r.status="fulfilled",r.value=e},function(e){r.status="rejected",r.reason=e})),r}}function w(e,t,i){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===i?b:function(){var e=m.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),i(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:v},bind:{value:T}}),m.set(e,t)}var S=Function.prototype.bind,$=Array.prototype.slice;function T(){var e=S.apply(this,arguments),t=m.get(this);if(t){var i=$.call(arguments,1),r=null;r=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(i)}):Promise.resolve(i),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:v},bind:{value:T}}),m.set(e,{id:t.id,bound:r})}return e}function A(e,t,i,r){this.status=e,this.value=t,this.reason=i,this._response=r}function N(e){switch(e.status){case"resolved_model":C(e);break;case"resolved_module":E(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":throw e;default:throw e.reason}}function _(e,t){for(var i=0;i<e.length;i++)(0,e[i])(t)}function P(e,t,i){switch(e.status){case"fulfilled":_(t,e.value);break;case"pending":case"blocked":case"cyclic":e.value=t,e.reason=i;break;case"rejected":i&&_(i,e.reason)}}function x(e,t){if("pending"===e.status||"blocked"===e.status){var i=e.reason;e.status="rejected",e.reason=t,null!==i&&_(i,t)}}function O(e,t){if("pending"===e.status||"blocked"===e.status){var i=e.value,r=e.reason;e.status="resolved_module",e.value=t,null!==i&&(E(e),P(e,i,r))}}A.prototype=Object.create(Promise.prototype),A.prototype.then=function(e,t){switch(this.status){case"resolved_model":C(this);break;case"resolved_module":E(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var Q=null,j=null;function C(e){var t=Q,i=j;Q=e,j=null;var r=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var n=JSON.parse(r,e._response._fromJSON);if(null!==j&&0<j.deps)j.value=n,e.status="blocked",e.value=null,e.reason=null;else{var s=e.value;e.status="fulfilled",e.value=n,null!==s&&_(s,n)}}catch(t){e.status="rejected",e.reason=t}finally{Q=t,j=i}}function E(e){try{var t=e.value,i=globalThis.__next_require__(t[0]);if(4===t.length&&"function"==typeof i.then){if("fulfilled"===i.status)i=i.value;else throw i.reason}var r="*"===t[2]?i:""===t[2]?i.__esModule?i.default:i:i[t[2]];e.status="fulfilled",e.value=r}catch(t){e.status="rejected",e.reason=t}}function q(e,t){e._chunks.forEach(function(e){"pending"===e.status&&x(e,t)})}function D(e,t){var i=e._chunks,r=i.get(t);return r||(r=new A("pending",null,null,e),i.set(t,r)),r}function z(e,t){if("resolved_model"===(e=D(e,t)).status&&C(e),"fulfilled"===e.status)return e.value;throw e.reason}function k(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function M(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function L(e){var t,i=e.ssrManifest.moduleMap;return(i={_bundlerConfig:i,_moduleLoading:e.ssrManifest.moduleLoading,_callServer:void 0!==M?M:k,_encodeFormAction:e.encodeFormAction,_nonce:e="string"==typeof e.nonce?e.nonce:void 0,_chunks:new Map,_stringDecoder:new TextDecoder,_fromJSON:null,_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]})._fromJSON=(t=i,function(e,i){return"string"==typeof i?function(e,t,i,r){if("$"===r[0]){if("$"===r)return u;switch(r[1]){case"$":return r.slice(1);case"L":return{$$typeof:c,_payload:e=D(e,t=parseInt(r.slice(2),16)),_init:N};case"@":if(2===r.length)return new Promise(function(){});return D(e,t=parseInt(r.slice(2),16));case"S":return Symbol.for(r.slice(2));case"F":return t=z(e,t=parseInt(r.slice(2),16)),function(e,t){function i(){var e=Array.prototype.slice.call(arguments),i=t.bound;return i?"fulfilled"===i.status?r(t.id,i.value.concat(e)):Promise.resolve(i).then(function(i){return r(t.id,i.concat(e))}):r(t.id,e)}var r=e._callServer;return w(i,t,e._encodeFormAction),i}(e,t);case"Q":return new Map(e=z(e,t=parseInt(r.slice(2),16)));case"W":return new Set(e=z(e,t=parseInt(r.slice(2),16)));case"I":return 1/0;case"-":return"$-0"===r?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(r.slice(2)));case"n":return BigInt(r.slice(2));default:switch((e=D(e,r=parseInt(r.slice(1),16))).status){case"resolved_model":C(e);break;case"resolved_module":E(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":var n;return r=Q,e.then(function(e,t,i,r){if(j){var n=j;r||n.deps++}else n=j={deps:r?0:1,value:null};return function(r){t[i]=r,n.deps--,0===n.deps&&"blocked"===e.status&&(r=e.value,e.status="fulfilled",e.value=n.value,null!==r&&_(r,n.value))}}(r,t,i,"cyclic"===e.status),(n=r,function(e){return x(n,e)})),null;default:throw e.reason}}}return r}(t,this,e,i):"object"==typeof i&&null!==i?e=i[0]===u?{$$typeof:u,type:i[1],key:i[2],ref:null,props:i[3],_owner:null}:i:i}),i}function R(e,t){function r(t){q(e,t)}var u=t.getReader();u.read().then(function t(c){var d=c.value;if(c.done)q(e,Error("Connection closed."));else{var h=0,f=e._rowState,p=e._rowID,m=e._rowTag,g=e._rowLength;c=e._buffer;for(var y=d.length;h<y;){var b=-1;switch(f){case 0:58===(b=d[h++])?f=1:p=p<<4|(96<b?b-87:b-48);continue;case 1:84===(f=d[h])?(m=f,f=2,h++):64<f&&91>f?(m=f,f=3,h++):(m=0,f=3);continue;case 2:44===(b=d[h++])?f=4:g=g<<4|(96<b?b-87:b-48);continue;case 3:b=d.indexOf(10,h);break;case 4:(b=h+g)>d.length&&(b=-1)}var v=d.byteOffset+h;if(-1<b){h=new Uint8Array(d.buffer,v,b-h),g=e,v=m;var w=g._stringDecoder;m="";for(var S=0;S<c.length;S++)m+=w.decode(c[S],n);switch(m+=w.decode(h),v){case 73:!function(e,t,r){var n=e._chunks,u=n.get(t);r=JSON.parse(r,e._fromJSON);var c=function(e,t){if(e){var i=e[t[0]];if(e=i[t[2]])i=e.name;else{if(!(e=i["*"]))throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');i=t[2]}return 4===t.length?[e.id,e.chunks,i,1]:[e.id,e.chunks,i]}return t}(e._bundlerConfig,r);if(function(e,t,i){if(null!==e)for(var r=1;r<t.length;r+=2){var n=l.current;if(n){var s=n.preinitScript,a=e.prefix+t[r],o=e.crossOrigin;o="string"==typeof o?"use-credentials"===o?o:"":void 0,s.call(n,a,{crossOrigin:o,nonce:i})}}}(e._moduleLoading,r[1],e._nonce),r=function(e){for(var t=e[1],r=[],n=0;n<t.length;){var l=t[n++];t[n++];var u=s.get(l);if(void 0===u){u=i.e(l),r.push(u);var c=s.set.bind(s,l,null);u.then(c,o),s.set(l,u)}else null!==u&&r.push(u)}return 4===e.length?0===r.length?a(e[0]):Promise.all(r).then(function(){return a(e[0])}):0<r.length?Promise.all(r):null}(c)){if(u){var d=u;d.status="blocked"}else d=new A("blocked",null,null,e),n.set(t,d);r.then(function(){return O(d,c)},function(e){return x(d,e)})}else u?O(u,c):n.set(t,new A("resolved_module",c,null,e))}(g,p,m);break;case 72:if(p=m[0],g=JSON.parse(m=m.slice(1),g._fromJSON),m=l.current)switch(p){case"D":m.prefetchDNS(g);break;case"C":"string"==typeof g?m.preconnect(g):m.preconnect(g[0],g[1]);break;case"L":p=g[0],h=g[1],3===g.length?m.preload(p,h,g[2]):m.preload(p,h);break;case"m":"string"==typeof g?m.preloadModule(g):m.preloadModule(g[0],g[1]);break;case"S":"string"==typeof g?m.preinitStyle(g):m.preinitStyle(g[0],0===g[1]?void 0:g[1],3===g.length?g[2]:void 0);break;case"X":"string"==typeof g?m.preinitScript(g):m.preinitScript(g[0],g[1]);break;case"M":"string"==typeof g?m.preinitModuleScript(g):m.preinitModuleScript(g[0],g[1])}break;case 69:h=(m=JSON.parse(m)).digest,(m=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.")).stack="Error: "+m.message,m.digest=h,(v=(h=g._chunks).get(p))?x(v,m):h.set(p,new A("rejected",null,m,g));break;case 84:g._chunks.set(p,new A("fulfilled",m,null,g));break;case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");default:(v=(h=g._chunks).get(p))?(g=v,p=m,"pending"===g.status&&(m=g.value,h=g.reason,g.status="resolved_model",g.value=p,null!==m&&(C(g),P(g,m,h)))):h.set(p,new A("resolved_model",m,null,g))}h=b,3===f&&h++,g=p=m=f=0,c.length=0}else{d=new Uint8Array(d.buffer,v,d.byteLength-h),c.push(d),g-=d.byteLength;break}}return e._rowState=f,e._rowID=p,e._rowTag=m,e._rowLength=g,u.read().then(t).catch(r)}}).catch(r)}t.createFromFetch=function(e,t){var i=L(t);return e.then(function(e){R(i,e.body)},function(e){q(i,e)}),D(i,0)},t.createFromReadableStream=function(e,t){return R(t=L(t),e),D(t,0)},t.createServerReference=function(e){return function(e,t,i){function r(){var i=Array.prototype.slice.call(arguments);return t(e,i)}return w(r,{id:e,bound:null},i),r}(e,M)},t.encodeReply=function(e){return new Promise(function(t,i){g(e,"",t,i)})}},561:(e,t,i)=>{"use strict";e.exports=i(7971)},8769:()=>{},4672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return i}});class i{constructor(){let e,t;this.promise=new Promise((i,r)=>{e=i,t=r}),this.resolve=e,this.reject=t}}},1890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{atLeastOneTask:function(){return n},scheduleImmediate:function(){return r},scheduleOnNextTick:function(){return i}});let i=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},r=e=>{setImmediate(e)};function n(){return new Promise(e=>r(e))}},9702:(e,t)=>{"use strict";let i,r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{arrayBufferToString:function(){return s},decrypt:function(){return l},encrypt:function(){return o},generateEncryptionKeyBase64:function(){return u},getActionEncryptionKey:function(){return p},getClientReferenceManifestSingleton:function(){return f},getServerModuleMap:function(){return h},setReferenceManifestsSingleton:function(){return d},stringToUint8Array:function(){return a}});let n=null;function s(e){let t=new Uint8Array(e),i=t.byteLength;if(i<65535)return String.fromCharCode.apply(null,t);let r="";for(let e=0;e<i;e++)r+=String.fromCharCode(t[e]);return r}function a(e){let t=e.length,i=new Uint8Array(t);for(let r=0;r<t;r++)i[r]=e.charCodeAt(r);return i}function o(e,t,i){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,i)}function l(e,t,i){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,i)}async function u(e){if(e&&void 0!==r)return r;n||(n=new Promise(async(e,t)=>{try{let t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),i=await crypto.subtle.exportKey("raw",t),r=btoa(s(i));e([t,r])}catch(e){t(e)}}));let[t,a]=await n;return i=t,e&&(r=a),a}let c=Symbol.for("next.server.action-manifests");function d({clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:i}){globalThis[c]={clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:i}}function h(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.serverModuleMap}function f(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.clientReferenceManifest}async function p(){if(i)return i;let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Error("Missing encryption key for Server Actions");return i=await crypto.subtle.importKey("raw",a(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},166:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{decryptActionBoundArgs:function(){return h},encryptActionBoundArgs:function(){return d}}),i(8769);let r=i(1749),n=i(561),s=i(8175),a=i(9702),o=new TextEncoder,l=new TextDecoder;async function u(e,t){let i=await (0,a.getActionEncryptionKey)();if(void 0===i)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let r=atob(t),n=r.slice(0,16),s=r.slice(16),o=l.decode(await (0,a.decrypt)(i,(0,a.stringToUint8Array)(n),(0,a.stringToUint8Array)(s)));if(!o.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return o.slice(e.length)}async function c(e,t){let i=await (0,a.getActionEncryptionKey)();if(void 0===i)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let r=new Uint8Array(16);crypto.getRandomValues(r);let n=(0,a.arrayBufferToString)(r.buffer),s=await (0,a.encrypt)(i,r,o.encode(e+t));return btoa(n+(0,a.arrayBufferToString)(s))}async function d(e,t){let i=(0,a.getClientReferenceManifestSingleton)(),n=await (0,s.streamToString)((0,r.renderToReadableStream)(t,i.clientModules));return await c(e,n)}async function h(e,t){let i=await u(e,await t),s=await (0,n.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(o.encode(i)),e.close()}}),{ssrManifest:{moduleLoading:{},moduleMap:{}}}),l=(0,a.getServerModuleMap)();return await (0,r.decodeReply)(await (0,n.encodeReply)(s),l)}},1586:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return n},extractInterceptionRouteInformation:function(){return a},isInterceptionRouteAppPath:function(){return s}});let r=i(8168),n=["(..)(..)","(.)","(..)","(...)"];function s(e){return void 0!==e.split("/").find(e=>n.find(t=>e.startsWith(t)))}function a(e){let t,i,s;for(let r of e.split("/"))if(i=n.find(e=>r.startsWith(e))){[t,s]=e.split(i,2);break}if(!t||!i||!s)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,r.normalizeAppPath)(t),i){case"(.)":s="/"===t?`/${s}`:t+"/"+s;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);s=t.split("/").slice(0,-1).concat(s).join("/");break;case"(...)":s="/"+s;break;case"(..)(..)":let a=t.split("/");if(a.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);s=a.slice(0,-2).concat(s).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:s}}},3502:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ENCODED_TAGS",{enumerable:!0,get:function(){return i}});let i={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},8175:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{chainStreams:function(){return d},continueDynamicDataResume:function(){return A},continueDynamicHTMLResume:function(){return T},continueDynamicPrerender:function(){return S},continueFizzStream:function(){return w},continueStaticPrerender:function(){return $},createBufferedTransformStream:function(){return p},createRootLayoutValidatorStream:function(){return v},renderToInitialFizzStream:function(){return m},streamFromString:function(){return h},streamToString:function(){return f}});let r=i(4994),n=i(1376),s=i(4672),a=i(1890),o=i(3502),l=i(5893);function u(){}let c=new TextEncoder;function d(...e){if(0===e.length)throw Error("Invariant: chainStreams requires at least one stream");if(1===e.length)return e[0];let{readable:t,writable:i}=new TransformStream,r=e[0].pipeTo(i,{preventClose:!0}),n=1;for(;n<e.length-1;n++){let t=e[n];r=r.then(()=>t.pipeTo(i,{preventClose:!0}))}let s=e[n];return(r=r.then(()=>s.pipeTo(i))).catch(u),t}function h(e){return new ReadableStream({start(t){t.enqueue(c.encode(e)),t.close()}})}async function f(e){let t=new TextDecoder("utf-8",{fatal:!0}),i="";for await(let r of e)i+=t.decode(r,{stream:!0});return i+t.decode()}function p(){let e,t=[],i=0,r=r=>{if(e)return;let n=new s.DetachedPromise;e=n,(0,a.scheduleImmediate)(()=>{try{let e=new Uint8Array(i),n=0;for(let i=0;i<t.length;i++){let r=t[i];e.set(r,n),n+=r.byteLength}t.length=0,i=0,r.enqueue(e)}catch{}finally{e=void 0,n.resolve()}})};return new TransformStream({transform(e,n){t.push(e),i+=e.byteLength,r(n)},flush(){if(e)return e.promise}})}function m({ReactDOMServer:e,element:t,streamOptions:i}){return(0,r.getTracer)().trace(n.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,i))}function g(e){let t=!1,i=!1,r=!1;return new TransformStream({async transform(n,s){if(r=!0,i){s.enqueue(n);return}let u=await e();if(t){if(u){let e=c.encode(u);s.enqueue(e)}s.enqueue(n),i=!0}else{let e=(0,l.indexOfUint8Array)(n,o.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(u){let t=c.encode(u),i=new Uint8Array(n.length+t.length);i.set(n.slice(0,e)),i.set(t,e),i.set(n.slice(e),e+t.length),s.enqueue(i)}else s.enqueue(n);i=!0,t=!0}}t?(0,a.scheduleImmediate)(()=>{i=!1}):s.enqueue(n)},async flush(t){if(r){let i=await e();i&&t.enqueue(c.encode(i))}}})}function y(e){let t=null,i=!1;async function r(r){if(t)return;let n=e.getReader();await (0,a.atLeastOneTask)();try{for(;;){let{done:e,value:t}=await n.read();if(e){i=!0;return}r.enqueue(t)}}catch(e){r.error(e)}}return new TransformStream({transform(e,i){i.enqueue(e),t||(t=r(i))},flush(e){if(!i)return t||r(e)}})}function b(e){let t=!1,i=c.encode(e);return new TransformStream({transform(r,n){if(t)return n.enqueue(r);let s=(0,l.indexOfUint8Array)(r,i);if(s>-1){if(t=!0,r.length===e.length)return;let i=r.slice(0,s);if(n.enqueue(i),r.length>e.length+s){let t=r.slice(s+e.length);n.enqueue(t)}}else n.enqueue(r)},flush(e){e.enqueue(i)}})}function v(){let e=!1,t=!1;return new TransformStream({async transform(i,r){!e&&(0,l.indexOfUint8Array)(i,o.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,l.indexOfUint8Array)(i,o.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),r.enqueue(i)},flush(i){let r=[];e||r.push("html"),t||r.push("body"),r.length&&i.enqueue(c.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(r)}</script>`))}})}async function w(e,{suffix:t,inlinedDataStream:i,isStaticGeneration:r,getServerInsertedHTML:n,serverInsertedHTMLToHead:o,validateRootLayout:l}){let u="</body></html>",d=t?t.split(u,1)[0]:null;return r&&"allReady"in e&&await e.allReady,function(e,t){let i=e;for(let e of t)e&&(i=i.pipeThrough(e));return i}(e,[p(),n&&!o?new TransformStream({transform:async(e,t)=>{let i=await n();i&&t.enqueue(c.encode(i)),t.enqueue(e)}}):null,null!=d&&d.length>0?function(e){let t,i=!1,r=i=>{let r=new s.DetachedPromise;t=r,(0,a.scheduleImmediate)(()=>{try{i.enqueue(c.encode(e))}catch{}finally{t=void 0,r.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),i||(i=!0,r(t))},flush(r){if(t)return t.promise;i||r.enqueue(c.encode(e))}})}(d):null,i?y(i):null,l?v():null,b(u),n&&o?g(n):null])}async function S(e,{getServerInsertedHTML:t}){return e.pipeThrough(p()).pipeThrough(new TransformStream({transform(e,t){(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.BODY)||(0,l.isEquivalentUint8Arrays)(e,o.ENCODED_TAGS.CLOSED.HTML)||(e=(0,l.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.BODY),e=(0,l.removeFromUint8Array)(e,o.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(g(t))}async function $(e,{inlinedDataStream:t,getServerInsertedHTML:i}){return e.pipeThrough(p()).pipeThrough(g(i)).pipeThrough(y(t)).pipeThrough(b("</body></html>"))}async function T(e,{inlinedDataStream:t,getServerInsertedHTML:i}){return e.pipeThrough(p()).pipeThrough(g(i)).pipeThrough(y(t)).pipeThrough(b("</body></html>"))}async function A(e,{inlinedDataStream:t}){return e.pipeThrough(y(t)).pipeThrough(b("</body></html>"))}},5893:(e,t)=>{"use strict";function i(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let i=0;i<=e.length-t.length;i++){let r=!0;for(let n=0;n<t.length;n++)if(e[i+n]!==t[n]){r=!1;break}if(r)return i}return -1}function r(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function n(e,t){let r=i(e,t);if(0===r)return e.subarray(t.length);if(!(r>-1))return e;{let i=new Uint8Array(e.length-t.length);return i.set(e.slice(0,r)),i.set(e.slice(r+t.length),r),i}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{indexOfUint8Array:function(){return i},isEquivalentUint8Arrays:function(){return r},removeFromUint8Array:function(){return n}})},7595:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{revalidatePath:function(){return u},revalidateTag:function(){return l}});let r=i(6278),n=i(6818),s=i(1943),a=i(8834),o=i(5869);function l(e){return c(e,`revalidateTag ${e}`)}function u(e,t){if(e.length>s.NEXT_CACHE_SOFT_TAG_MAX_LENGTH){console.warn(`Warning: revalidatePath received "${e}" which exceeded max length of ${s.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);return}let i=`${s.NEXT_CACHE_IMPLICIT_TAG_ID}${e}`;return t?i+=`${i.endsWith("/")?"":"/"}${t}`:(0,n.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`),c(i,`revalidatePath ${e}`)}function c(e,t){let i=o.staticGenerationAsyncStorage.getStore();if(!i||!i.incrementalCache)throw Error(`Invariant: static generation store missing in ${t}`);if(i.isUnstableCacheCallback)throw Error(`Route ${(0,a.getPathname)(i.urlPathname)} used "${t}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);(0,r.trackDynamicDataAccessed)(i,t),i.revalidatedTags||(i.revalidatedTags=[]),i.revalidatedTags.includes(e)||i.revalidatedTags.push(e),i.pathWasRevalidated=!0}},9239:(e,t,i)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return l}});let r=i(1943),n=i(670),s=i(5869),a=0;async function o(e,t,i,n,s,a,o){await t.set(i,{kind:"FETCH",data:{headers:{},body:JSON.stringify(e),status:200,url:""},revalidate:"number"!=typeof s?r.CACHE_ONE_YEAR:s},{revalidate:s,fetchCache:!0,tags:n,fetchIdx:a,fetchUrl:o})}function l(e,t,i={}){if(0===i.revalidate)throw Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${e.toString()}`);let r=i.tags?(0,n.validateTags)(i.tags,`unstable_cache ${e.toString()}`):[];(0,n.validateRevalidate)(i.revalidate,`unstable_cache ${e.name||e.toString()}`);let l=`${e.toString()}-${Array.isArray(t)&&t.join(",")}`;return async(...t)=>{let u=s.staticGenerationAsyncStorage.getStore(),c=(null==u?void 0:u.incrementalCache)||globalThis.__incrementalCache;if(!c)throw Error(`Invariant: incrementalCache missing in unstable_cache ${e.toString()}`);let{pathname:d,searchParams:h}=new URL((null==u?void 0:u.urlPathname)||"/","http://n"),f=[...h.keys()].sort((e,t)=>e.localeCompare(t)).map(e=>`${e}=${h.get(e)}`).join("&"),p=`${l}-${JSON.stringify(t)}`,m=await c.fetchCacheKey(p),g=`unstable_cache ${d}${f.length?"?":""}${f} ${e.name?` ${e.name}`:m}`,y=(u?u.nextFetchId:a)??1;if(u){if(u.nextFetchId=y+1,"number"==typeof i.revalidate?"number"==typeof u.revalidate&&u.revalidate<i.revalidate||(u.revalidate=i.revalidate):!1===i.revalidate&&void 0===u.revalidate&&(u.revalidate=i.revalidate),u.tags)for(let e of r)u.tags.includes(e)||u.tags.push(e);else u.tags=r.slice();let a=(0,n.addImplicitTags)(u);if("force-no-store"!==u.fetchCache&&!u.isOnDemandRevalidate&&!c.isOnDemandRevalidate&&!u.isDraftMode){let n=await c.get(m,{kindHint:"fetch",revalidate:i.revalidate,tags:r,softTags:a,fetchIdx:y,fetchUrl:g});if(n&&n.value){if("FETCH"!==n.value.kind)console.error(`Invariant invalid cacheEntry returned for ${p}`);else{let a=void 0!==n.value.data.body?JSON.parse(n.value.data.body):void 0;return n.isStale&&(u.pendingRevalidates||(u.pendingRevalidates={}),u.pendingRevalidates[p]=s.staticGenerationAsyncStorage.run({...u,fetchCache:"force-no-store",isUnstableCacheCallback:!0},e,...t).then(e=>o(e,c,m,r,i.revalidate,y,g)).catch(e=>console.error(`revalidating cache with key: ${p}`,e))),a}}}let l=await s.staticGenerationAsyncStorage.run({...u,fetchCache:"force-no-store",isUnstableCacheCallback:!0},e,...t);return u.isDraftMode||o(l,c,m,r,i.revalidate,y,g),l}{if(a+=1,!c.isOnDemandRevalidate){let e=u&&(0,n.addImplicitTags)(u),t=await c.get(m,{kindHint:"fetch",revalidate:i.revalidate,tags:r,fetchIdx:y,fetchUrl:g,softTags:e});if(t&&t.value){if("FETCH"!==t.value.kind)console.error(`Invariant invalid cacheEntry returned for ${p}`);else if(!t.isStale)return void 0!==t.value.data.body?JSON.parse(t.value.data.body):void 0}}let l=await s.staticGenerationAsyncStorage.run({fetchCache:"force-no-store",isUnstableCacheCallback:!0,urlPathname:"/",isStaticGeneration:!1,prerenderState:null},e,...t);return o(l,c,m,r,i.revalidate,y,g),l}}}},8104:(e,t,i)=>{"use strict";Object.defineProperty(t,"P",{enumerable:!0,get:function(){return s}});let r=i(5869),n=i(6278);function s(){let e=r.staticGenerationAsyncStorage.getStore();return e?e.forceStatic?void 0:void(e.isUnstableNoStore=!0,(0,n.markCurrentScopeAsDynamic)(e,"unstable_noStore()")):void 0}},1555:(e,t)=>{"use strict";function i(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return i}})},8168:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{normalizeAppPath:function(){return s},normalizeRscURL:function(){return a}});let r=i(1555),n=i(5406);function s(e){return(0,r.ensureLeadingSlash)(e.split("/").reduce((e,t,i,r)=>!t||(0,n.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&i===r.length-1?e:e+"/"+t,""))}function a(e){return e.replace(/\.rsc($|\?)/,"$1")}},6818:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getSortedRoutes:function(){return r.getSortedRoutes},isDynamicRoute:function(){return n.isDynamicRoute}});let r=i(5026),n=i(5714)},5714:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return s}});let r=i(1586),n=/\/\[[^/]+?\](?=\/|$)/;function s(e){return(0,r.isInterceptionRouteAppPath)(e)&&(e=(0,r.extractInterceptionRouteInformation)(e).interceptedRoute),n.test(e)}},5026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return r}});class i{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let i=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&i.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');i.unshift(t)}return null!==this.restSlugName&&i.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&i.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),i}_insert(e,t,r){if(0===e.length){this.placeholder=!1;return}if(r)throw Error("Catch-all must be the last part of the URL.");let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let i=n.slice(1,-1),a=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),a=!0),i.startsWith("...")&&(i=i.substring(3),r=!0),i.startsWith("[")||i.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+i+"').");if(i.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+i+"').");function s(e,i){if(null!==e&&e!==i)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+i+"').");t.forEach(e=>{if(e===i)throw Error('You cannot have the same slug name "'+i+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+i+'" differ only by non-word symbols within a single dynamic path')}),t.push(i)}if(r){if(a){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');s(this.optionalRestSlugName,i),this.optionalRestSlugName=i,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');s(this.restSlugName,i),this.restSlugName=i,n="[...]"}}else{if(a)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');s(this.slugName,i),this.slugName=i,n="[]"}}this.children.has(n)||this.children.set(n,new i),this.children.get(n)._insert(e.slice(1),t,r)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function r(e){let t=new i;return e.forEach(e=>t.insert(e)),t.smoosh()}},5406:(e,t)=>{"use strict";function i(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{DEFAULT_SEGMENT_KEY:function(){return n},PAGE_SEGMENT_KEY:function(){return r},isGroupSegment:function(){return i}});let r="__PAGE__",n="__DEFAULT__"},7272:()=>{},2285:(e,t,i)=>{"use strict";i.d(t,{RQ:()=>d,UI:()=>p,dZ:()=>l,lw:()=>h,qD:()=>f,wH:()=>u});var r=i(3596),n=i(9326),s=i(4149),a=i(298),o=i(7029);class l{constructor(e){this.table=e}static [n.Q]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class u{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [n.Q]="TableAliasProxyHandler";get(e,t){if(t===a.iA.Symbol.IsAlias)return!0;if(t===a.iA.Symbol.Name||this.replaceOriginalName&&t===a.iA.Symbol.OriginalName)return this.alias;if(t===o.d)return{...e[o.d],name:this.alias,isAlias:!0};if(t===a.iA.Symbol.Columns){let t=e[a.iA.Symbol.Columns];if(!t)return t;let i={};return Object.keys(t).map(r=>{i[r]=new Proxy(t[r],new l(new Proxy(e,this)))}),i}let i=e[t];return(0,n.is)(i,r.s)?new Proxy(i,new l(new Proxy(e,this))):i}}class c{constructor(e){this.alias=e}static [n.Q]=null;get(e,t){return"sourceTable"===t?d(e.sourceTable,this.alias):e[t]}}function d(e,t){return new Proxy(e,new u(t,!1))}function h(e,t){return new Proxy(e,new l(new Proxy(e.table,new u(t,!1))))}function f(e,t){return new s.$s.Aliased(p(e.sql,t),e.fieldAlias)}function p(e,t){return s.i6.join(e.queryChunks.map(e=>(0,n.is)(e,r.s)?h(e,t):(0,n.is)(e,s.$s)?p(e,t):(0,n.is)(e,s.$s.Aliased)?f(e,t):e))}},3596:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});var r=i(9326);class n{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType}static [r.Q]="Column";name;primary;notNull;default;defaultFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}}},9326:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r,is:()=>n});let r=Symbol.for("drizzle:entityKind");function n(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,r))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=e.constructor;if(i)for(;i;){if(r in i&&i[r]===t[r])return!0;i=Object.getPrototypeOf(i)}return!1}Symbol.for("drizzle:hasOwnEntityKind")},7754:(e,t,i)=>{"use strict";i.d(t,{F:()=>s,k:()=>n});var r=i(9326);class n extends Error{static [r.Q]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class s extends n{static [r.Q]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}},5184:(e,t,i)=>{"use strict";i.d(t,{Mn:()=>s,oe:()=>a});var r=i(9326);class n{static [r.Q]="ConsoleLogWriter";write(e){console.log(e)}}class s{static [r.Q]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new n}logQuery(e,t){let i=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),r=i.length?` -- params: [${i.join(", ")}]`:"";this.writer.write(`Query: ${e}${r}`)}}class a{static [r.Q]="NoopLogger";logQuery(){}}},8029:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.d(t,{t:()=>h});var n=i(8678),s=i(9326),a=i(5184),o=i(3369),l=i(6381),u=i(1613),c=i(6703),d=e([n,c]);[n,c]=d.then?(await d)():d;let{types:f}=n.default;class p{constructor(e,t,i={}){this.client=e,this.dialect=t,this.options=i,this.initMappers()}static [s.Q]="NodePgDriver";createSession(e){return new c.uK(this.client,this.dialect,e,{logger:this.options.logger})}initMappers(){f.setTypeParser(f.builtins.TIMESTAMPTZ,e=>e),f.setTypeParser(f.builtins.TIMESTAMP,e=>e),f.setTypeParser(f.builtins.DATE,e=>e),f.setTypeParser(f.builtins.INTERVAL,e=>e)}}function h(e,t={}){let i,r;let n=new l.n;if(!0===t.logger?i=new a.Mn:!1!==t.logger&&(i=t.logger),t.schema){let e=(0,u.pb)(t.schema,u._J);r={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let s=new p(e,n,{logger:i}).createSession(r);return new o.M(n,s,r)}r()}catch(e){r(e)}})},6703:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.d(t,{uK:()=>p});var n=i(8678),s=i(9326),a=i(5184),o=i(8820),l=i(4149),u=i(836),c=i(9237),d=e([n]);let{Pool:h}=(n=(d.then?(await d)():d)[0]).default;class f extends o.$G{constructor(e,t,i,r,n,s,a){super({sql:t,params:i}),this.client=e,this.params=i,this.logger=r,this.fields=n,this.customResultMapper=a,this.rawQueryConfig={name:s,text:t},this.queryConfig={name:s,text:t,rowMode:"array"}}static [s.Q]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return u.Z.startActiveSpan("drizzle.execute",async()=>{let t=(0,l.Pr)(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,t);let{fields:i,rawQueryConfig:r,client:n,queryConfig:s,joinsNotNullableMap:a,customResultMapper:o}=this;if(!i&&!o)return u.Z.startActiveSpan("drizzle.driver.execute",async e=>(e?.setAttributes({"drizzle.query.name":r.name,"drizzle.query.text":r.text,"drizzle.query.params":JSON.stringify(t)}),n.query(r,t)));let d=await u.Z.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(t)}),n.query(s,t)));return u.Z.startActiveSpan("drizzle.mapResponse",()=>o?o(d.rows):d.rows.map(e=>(0,c.M4)(i,e,a)))})}all(e={}){return u.Z.startActiveSpan("drizzle.execute",()=>{let t=(0,l.Pr)(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,t),u.Z.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(t)}),this.client.query(this.rawQueryConfig,t).then(e=>e.rows)))})}}class p extends o._X{constructor(e,t,i,r={}){super(t),this.client=e,this.schema=i,this.options=r,this.logger=r.logger??new a.oe}static [s.Q]="NodePgSession";logger;prepareQuery(e,t,i,r){return new f(this.client,e.sql,e.params,this.logger,t,i,r)}async transaction(e,t){let i=this.client instanceof h?new p(await this.client.connect(),this.dialect,this.schema,this.options):this,r=new m(this.dialect,i,this.schema);await r.execute((0,l.i6)`begin${t?(0,l.i6)` ${r.getTransactionConfigSQL(t)}`:void 0}`);try{let t=await e(r);return await r.execute((0,l.i6)`commit`),t}catch(e){throw await r.execute((0,l.i6)`rollback`),e}finally{this.client instanceof h&&i.client.release()}}}class m extends o.FX{static [s.Q]="NodePgTransaction";async transaction(e){let t=`sp${this.nestedIndex+1}`,i=new m(this.dialect,this.session,this.schema,this.nestedIndex+1);await i.execute(l.i6.raw(`savepoint ${t}`));try{let r=await e(i);return await i.execute(l.i6.raw(`release savepoint ${t}`)),r}catch(e){throw await i.execute(l.i6.raw(`rollback to savepoint ${t}`)),e}}}r()}catch(e){r(e)}})},2118:(e,t,i)=>{"use strict";i.d(t,{df:()=>g,b1:()=>m});var r=i(9326);class n{static [r.Q]="ColumnBuilder";config;constructor(e,t,i){this.config={name:e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:i}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}}var s=i(3596),a=i(8324);class o{static [r.Q]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:i,foreignColumns:r}=e();return{name:t,columns:i,foreignTable:r[0].table,foreignColumns:r}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new l(e,this)}}class l{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [r.Q]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:i}=this.reference(),r=t.map(e=>e.name),n=i.map(e=>e.name),s=[this.table[a.YA.Symbol.Name],...r,i[0].table[a.YA.Symbol.Name],...n];return e??`${s.join("_")}_fk`}}function u(e,t){return`${e[a.YA.Symbol.Name]}_${t.join("_")}_unique`}class c{constructor(e,t){this.name=t,this.columns=e}static [r.Q]=null;columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new h(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class d{static [r.Q]=null;name;constructor(e){this.name=e}on(...e){return new c(e,this.name)}}class h{constructor(e,t,i,r){this.table=e,this.columns=t,this.name=r??u(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=i}static [r.Q]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}function f(e,t,i){for(let r=t;r<e.length;r++){let n=e[r];if("\\"===n){r++;continue}if('"'===n)return[e.slice(t,r).replace(/\\/g,""),r+1];if(!i&&(","===n||"}"===n))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}var p=i(9082);class m extends n{foreignKeyConfigs=[];static [r.Q]="PgColumnBuilder";array(e){return new y(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:i,actions:r})=>(0,p.t)((i,r)=>{let n=new o(()=>({columns:[e],foreignColumns:[i()]}));return r.onUpdate&&n.onUpdate(r.onUpdate),r.onDelete&&n.onDelete(r.onDelete),n.build(t)},i,r))}}class g extends s.s{constructor(e,t){t.uniqueName||(t.uniqueName=u(e,[t.name])),super(e,t),this.table=e}static [r.Q]="PgColumn"}class y extends m{static [r.Q]="PgArrayBuilder";constructor(e,t,i){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=i}build(e){let t=this.config.baseBuilder.build(e);return new b(e,this.config,t)}}class b extends g{constructor(e,t,i,r){super(e,t),this.baseColumn=i,this.range=r,this.size=t.size}size;static [r.Q]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,i=0){let r=[],n=i,s=!1;for(;n<t.length;){let a=t[n];if(","===a){(s||n===i)&&r.push(""),s=!0,n++;continue}if(s=!1,"\\"===a){n+=2;continue}if('"'===a){let[e,i]=f(t,n+1,!0);r.push(e),n=i;continue}if("}"===a)return[r,n+1];if("{"===a){let[i,s]=e(t,n+1);r.push(i),n=s;continue}let[o,l]=f(t,n,!1);r.push(o),n=l}return[r,n]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let i=e.map(e=>null===e?null:(0,r.is)(this.baseColumn,b)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?i:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(i)}}},2182:(e,t,i)=>{"use strict";i.d(t,{M:()=>a});var r=i(9326),n=i(4149),s=i(2118);class a extends s.b1{static [r.Q]="PgDateColumnBaseBuilder";defaultNow(){return this.default((0,n.i6)`now()`)}}},1575:(e,t,i)=>{"use strict";i.d(t,{AB:()=>c,sC:()=>o});var r=i(9326),n=i(2118),s=i(2182);class a extends s.M{static [r.Q]="PgTimestampBuilder";constructor(e,t,i){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=i}build(e){return new o(e,this.config)}}class o extends n.df{static [r.Q]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>this.withTimezone?e.toUTCString():e.toISOString()}class l extends s.M{static [r.Q]="PgTimestampStringBuilder";constructor(e,t,i){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=i}build(e){return new u(e,this.config)}}class u extends n.df{static [r.Q]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function c(e,t={}){return"string"===t.mode?new l(e,t.withTimezone??!1,t.precision):new a(e,t.withTimezone??!1,t.precision)}},3369:(e,t,i)=>{"use strict";i.d(t,{M:()=>L});var r=i(9326),n=i(6381),s=i(7642);class a{static [r.Q]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class o{static [r.Q]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}var l=i(2285),u=i(3596),c=i(4149),d=i(8586),h=i(7029);class f{static [r.Q]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if(t===d.g1)return{...e[d.g1],selection:new Proxy(e[d.g1].selection,this)};if(t===h.d)return{...e[h.d],selectedFields:new Proxy(e[h.d].selectedFields,this)};if("symbol"==typeof t)return e[t];let i=((0,r.is)(e,d.k)?e[d.g1].selection:(0,r.is)(e,c.G7)?e[h.d].selectedFields:e)[t];if((0,r.is)(i,c.$s.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!i.isSelectionField)return i.sql;let e=i.clone();return e.isSelectionField=!0,e}if((0,r.is)(i,c.$s)){if("sql"===this.config.sqlBehavior)return i;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return(0,r.is)(i,u.s)?this.config.alias?new Proxy(i,new l.dZ(new Proxy(i.table,new l.wH(this.config.alias,this.config.replaceOriginalName??!1)))):i:"object"!=typeof i||null===i?i:new Proxy(i,new f(this.config))}}var p=i(298),m=i(836),g=i(9237);class y{static [r.Q]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}from(e){let t;let i=!!this.fields;return t=this.fields?this.fields:(0,r.is)(e,d.k)?Object.fromEntries(Object.keys(e[d.g1].selection).map(t=>[t,e[t]])):(0,r.is)(e,s.O)?e[h.d].selectedFields:(0,r.is)(e,c.$s)?{}:(0,g.SS)(e),new v({table:e,fields:t,isPartialSelect:i,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class b extends a{static [r.Q]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:i,session:r,dialect:n,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=i,this.session=r,this.dialect=n,this._={selectedFields:t},this.tableName=(0,g.dP)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(t,i)=>{let n=this.tableName,s=(0,g.dP)(t);if("string"==typeof s&&this.config.joins?.some(e=>e.alias===s))throw Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof n&&(this.config.fields={[n]:this.config.fields}),"string"==typeof s&&!(0,r.is)(t,c.$s))){let e=(0,r.is)(t,d.k)?t[d.g1].selection:(0,r.is)(t,c.G7)?t[h.d].selectedFields:t[p.iA.Symbol.Columns];this.config.fields[s]=e}if("function"==typeof i&&(i=i(new Proxy(this.config.fields,new f({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:t,joinType:e,alias:s}),"string"==typeof s)switch(e){case"left":this.joinsNotNullableMap[s]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[s]=!0;break;case"inner":this.joinsNotNullableMap[s]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[s]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return i=>{let r="function"==typeof i?i(S()):i;if(!(0,g.ux)(this.getSelectedFields(),r.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:r}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new f({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new f({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new f({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new f({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=i:this.config.orderBy=i}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new d.k(this.getSQL(),this.config.fields,e),new f({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new f({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class v extends b{static [r.Q]="PgSelect";_prepare(e){let{session:t,config:i,dialect:r,joinsNotNullableMap:n}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");return m.Z.startActiveSpan("drizzle.prepareQuery",()=>{let s=(0,g.ZS)(i.fields),a=t.prepareQuery(r.sqlToQuery(this.getSQL()),s,e);return a.joinsNotNullableMap=n,a})}prepare(e){return this._prepare(e)}execute=e=>m.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e))}function w(e,t){return(i,r,...n)=>{let s=[r,...n].map(i=>({type:e,isAll:t,rightSelect:i}));for(let e of s)if(!(0,g.ux)(i.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return i.addSetOperators(s)}}(0,g.ef)(v,[o]);let S=()=>({union:$,unionAll:T,intersect:A,intersectAll:N,except:_,exceptAll:P}),$=w("union",!1),T=w("union",!0),A=w("intersect",!1),N=w("intersect",!0),_=w("except",!1),P=w("except",!0);class x{static [r.Q]="PgQueryBuilder";dialect;$with(e){let t=this;return{as:i=>("function"==typeof i&&(i=i(t)),new Proxy(new d.SC(i.getSQL(),i.getSelectedFields(),e,!0),new f({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}}with(...e){let t=this;return{select:function(i){return new y({fields:i??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new y({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,i){return new y({fields:i??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new y({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new y({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new y({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new n.n),this.dialect}}class O{constructor(e,t,i,r){this.table=e,this.session=t,this.dialect=i,this.withList=r}static [r.Q]="PgUpdateBuilder";set(e){return new Q(this.table,(0,g.M6)(this.table,e),this.session,this.dialect,this.withList)}}class Q extends o{constructor(e,t,i,r,n){super(),this.session=i,this.dialect=r,this.config={set:t,table:e,withList:n}}static [r.Q]="PgUpdate";config;where(e){return this.config.where=e,this}returning(e=this.config.table[p.iA.Symbol.Columns]){return this.config.returning=(0,g.ZS)(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e)}prepare(e){return this._prepare(e)}execute=e=>this._prepare().execute(e);$dynamic(){return this}}class j{constructor(e,t,i,r){this.table=e,this.session=t,this.dialect=i,this.withList=r}static [r.Q]="PgInsertBuilder";values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},i=this.table[p.iA.Symbol.Columns];for(let n of Object.keys(e)){let s=e[n];t[n]=(0,r.is)(s,c.$s)?s:new c.dO(s,i[n])}return t});return new C(this.table,t,this.session,this.dialect,this.withList)}}class C extends o{constructor(e,t,i,r,n){super(),this.session=i,this.dialect=r,this.config={table:e,values:t,withList:n}}static [r.Q]="PgInsert";config;returning(e=this.config.table[p.iA.Symbol.Columns]){return this.config.returning=(0,g.ZS)(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=(0,c.i6)`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(e.name)).join(","):this.dialect.escapeName(e.target.name);let i=e.where?(0,c.i6)` where ${e.where}`:void 0;this.config.onConflict=(0,c.i6)`(${c.i6.raw(t)}) do nothing${i}`}return this}onConflictDoUpdate(e){let t=e.where?(0,c.i6)` where ${e.where}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,(0,g.M6)(this.config.table,e.set)),r="";return r=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(e.name)).join(","):this.dialect.escapeName(e.target.name),this.config.onConflict=(0,c.i6)`(${c.i6.raw(r)}) do update set ${i}${t}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return m.Z.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e))}prepare(e){return this._prepare(e)}execute=e=>m.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e));$dynamic(){return this}}class E extends o{constructor(e,t,i,r){super(),this.session=t,this.dialect=i,this.config={table:e,withList:r}}static [r.Q]="PgDelete";config;where(e){return this.config.where=e,this}returning(e=this.config.table[p.iA.Symbol.Columns]){return this.config.returning=(0,g.ZS)(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return m.Z.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e))}prepare(e){return this._prepare(e)}execute=e=>m.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e));$dynamic(){return this}}var q=i(1613);class D{constructor(e,t,i,r,n,s,a){this.fullSchema=e,this.schema=t,this.tableNamesMap=i,this.table=r,this.tableConfig=n,this.dialect=s,this.session=a}static [r.Q]="PgRelationalQueryBuilder";findMany(e){return new z(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new z(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class z extends o{constructor(e,t,i,r,n,s,a,o,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=i,this.table=r,this.tableConfig=n,this.dialect=s,this.session=a,this.config=o,this.mode=l}static [r.Q]="PgRelationalQuery";_prepare(e){return m.Z.startActiveSpan("drizzle.prepareQuery",()=>{let{query:t,builtQuery:i}=this._toSQL();return this.session.prepareQuery(i,void 0,e,(e,i)=>{let r=e.map(e=>(0,q.WX)(this.schema,this.tableConfig,e,t.selection,i));return"first"===this.mode?r[0]:r})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}execute(){return m.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute())}}class k extends o{constructor(e,t,i,r){super(),this.execute=e,this.sql=t,this.query=i,this.mapBatchResult=r}static [r.Q]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}}class M extends o{constructor(e,t,i){super(),this.session=t,this.dialect=i,this.config={view:e}}static [r.Q]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return m.Z.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e))}prepare(e){return this._prepare(e)}execute=e=>m.Z.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e))}class L{constructor(e,t,i){if(this.dialect=e,this.session=t,this._=i?{schema:i.schema,tableNamesMap:i.tableNamesMap}:{schema:void 0,tableNamesMap:{}},this.query={},this._.schema)for(let[r,n]of Object.entries(this._.schema))this.query[r]=new D(i.fullSchema,this._.schema,this._.tableNamesMap,i.fullSchema[r],n,e,t)}static [r.Q]="PgDatabase";query;$with(e){return{as:t=>("function"==typeof t&&(t=t(new x)),new Proxy(new d.SC(t.getSQL(),t.getSelectedFields(),e,!0),new f({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}}with(...e){let t=this;return{select:function(i){return new y({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(i){return new y({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(i,r){return new y({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:i}})},update:function(i){return new O(i,t.session,t.dialect,e)},insert:function(i){return new j(i,t.session,t.dialect,e)},delete:function(i){return new E(i,t.session,t.dialect,e)}}}select(e){return new y({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new y({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new y({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new O(e,this.session,this.dialect)}insert(e){return new j(e,this.session,this.dialect)}delete(e){return new E(e,this.session,this.dialect)}refreshMaterializedView(e){return new M(e,this.session,this.dialect)}execute(e){let t=e.getSQL(),i=this.dialect.sqlToQuery(t),r=this.session.prepareQuery(i,void 0,void 0);return new k(()=>r.execute(),t,i,e=>r.mapResult(e,!1))}transaction(e,t){return this.session.transaction(e,t)}}},6381:(e,t,i)=>{"use strict";i.d(t,{n:()=>E});var r=i(2285),n=i(3596),s=i(9326),a=i(7754),o=i(2118);class l extends o.b1{static [s.Q]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new u(e,this.config)}}class u extends o.df{static [s.Q]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}class c extends o.b1{static [s.Q]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new d(e,this.config)}}class d extends o.df{static [s.Q]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}class h extends o.b1{static [s.Q]="PgNumericBuilder";constructor(e,t,i){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=i}build(e){return new f(e,this.config)}}class f extends o.df{static [s.Q]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}var p=i(2182);class m extends p.M{constructor(e,t,i){super(e,"string","PgTime"),this.withTimezone=t,this.precision=i,this.config.withTimezone=t,this.config.precision=i}static [s.Q]="PgTimeBuilder";build(e){return new g(e,this.config)}}class g extends o.df{static [s.Q]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}var y=i(1575);class b extends p.M{static [s.Q]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new v(e,this.config)}}class v extends o.df{static [s.Q]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class w extends p.M{static [s.Q]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new S(e,this.config)}}class S extends o.df{static [s.Q]="PgDateString";getSQLType(){return"date"}}var $=i(4149);class T extends o.b1{static [s.Q]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default((0,$.i6)`gen_random_uuid()`)}build(e){return new A(e,this.config)}}class A extends o.df{static [s.Q]="PgUUID";getSQLType(){return"uuid"}}var N=i(8324),_=i(1613),P=i(7745),x=i(8586),O=i(298),Q=i(9237),j=i(7029),C=i(7642);class E{static [s.Q]="PgDialect";async migrate(e,t,i){let r="string"==typeof i?"__drizzle_migrations":i.migrationsTable??"__drizzle_migrations",n="string"==typeof i?"drizzle":i.migrationsSchema??"drizzle",s=(0,$.i6)`
			CREATE TABLE IF NOT EXISTS ${$.i6.identifier(n)}.${$.i6.identifier(r)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute((0,$.i6)`CREATE SCHEMA IF NOT EXISTS ${$.i6.identifier(n)}`),await t.execute(s);let a=(await t.all((0,$.i6)`select id, hash, created_at from ${$.i6.identifier(n)}.${$.i6.identifier(r)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let i of e)if(!a||Number(a.created_at)<i.folderMillis){for(let e of i.sql)await t.execute($.i6.raw(e));await t.execute((0,$.i6)`insert into ${$.i6.identifier(n)}.${$.i6.identifier(r)} ("hash", "created_at") values(${i.hash}, ${i.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[(0,$.i6)`with `];for(let[i,r]of e.entries())t.push((0,$.i6)`${$.i6.identifier(r[x.g1].alias)} as (${r[x.g1].sql})`),i<e.length-1&&t.push((0,$.i6)`, `);return t.push((0,$.i6)` `),$.i6.join(t)}buildDeleteQuery({table:e,where:t,returning:i,withList:r}){let n=this.buildWithCTE(r),s=i?(0,$.i6)` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,a=t?(0,$.i6)` where ${t}`:void 0;return(0,$.i6)`${n}delete from ${e}${a}${s}`}buildUpdateSet(e,t){let i=Object.entries(t),r=i.length;return $.i6.join(i.flatMap(([t,i],n)=>{let s=e[O.iA.Symbol.Columns][t],a=(0,$.i6)`${$.i6.identifier(s.name)} = ${i}`;return n<r-1?[a,$.i6.raw(", ")]:[a]}))}buildUpdateQuery({table:e,set:t,where:i,returning:r,withList:n}){let s=this.buildWithCTE(n),a=this.buildUpdateSet(e,t),o=r?(0,$.i6)` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,l=i?(0,$.i6)` where ${i}`:void 0;return(0,$.i6)`${s}update ${e} set ${a}${l}${o}`}buildSelection(e,{isSingleTable:t=!1}={}){let i=e.length,r=e.flatMap(({field:e},r)=>{let a=[];if((0,s.is)(e,$.$s.Aliased)&&e.isSelectionField)a.push($.i6.identifier(e.fieldAlias));else if((0,s.is)(e,$.$s.Aliased)||(0,s.is)(e,$.$s)){let i=(0,s.is)(e,$.$s.Aliased)?e.sql:e;t?a.push(new $.$s(i.queryChunks.map(e=>(0,s.is)(e,o.df)?$.i6.identifier(e.name):e))):a.push(i),(0,s.is)(e,$.$s.Aliased)&&a.push((0,$.i6)` as ${$.i6.identifier(e.fieldAlias)}`)}else(0,s.is)(e,n.s)&&(t?a.push($.i6.identifier(e.name)):a.push(e));return r<i-1&&a.push((0,$.i6)`, `),a});return $.i6.join(r)}buildSelectQuery({withList:e,fields:t,fieldsFlat:i,where:r,having:a,table:o,joins:l,orderBy:u,groupBy:c,limit:d,offset:h,lockingClause:f,distinct:p,setOperators:m}){let g,y,b;let v=i??(0,Q.ZS)(t);for(let e of v){let t;if((0,s.is)(e.field,n.s)&&(0,O.SP)(e.field.table)!==((0,s.is)(o,x.k)?o[x.g1].alias:(0,s.is)(o,C.O)?o[j.d].name:(0,s.is)(o,$.$s)?void 0:(0,O.SP)(o))&&(t=e.field.table,!l?.some(({alias:e})=>e===(t[O.iA.Symbol.IsAlias]?O.SP(t):t[O.iA.Symbol.BaseName])))){let t=(0,O.SP)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let w=!l||0===l.length,S=this.buildWithCTE(e);p&&(g=!0===p?(0,$.i6)` distinct`:(0,$.i6)` distinct on (${$.i6.join(p.on,(0,$.i6)`, `)})`);let T=this.buildSelection(v,{isSingleTable:w}),A=(()=>{if((0,s.is)(o,O.iA)&&o[O.iA.Symbol.OriginalName]!==o[O.iA.Symbol.Name]){let e=(0,$.i6)`${$.i6.identifier(o[O.iA.Symbol.OriginalName])}`;return o[O.iA.Symbol.Schema]&&(e=(0,$.i6)`${$.i6.identifier(o[O.iA.Symbol.Schema])}.${e}`),(0,$.i6)`${e} ${$.i6.identifier(o[O.iA.Symbol.Name])}`}return o})(),_=[];if(l)for(let[e,t]of l.entries()){0===e&&_.push((0,$.i6)` `);let i=t.table,r=t.lateral?(0,$.i6)` lateral`:void 0;if((0,s.is)(i,N.YA)){let e=i[N.YA.Symbol.Name],n=i[N.YA.Symbol.Schema],s=i[N.YA.Symbol.OriginalName],a=e===s?void 0:t.alias;_.push((0,$.i6)`${$.i6.raw(t.joinType)} join${r} ${n?(0,$.i6)`${$.i6.identifier(n)}.`:void 0}${$.i6.identifier(s)}${a&&(0,$.i6)` ${$.i6.identifier(a)}`} on ${t.on}`)}else if((0,s.is)(i,$.G7)){let e=i[j.d].name,n=i[j.d].schema,s=i[j.d].originalName,a=e===s?void 0:t.alias;_.push((0,$.i6)`${$.i6.raw(t.joinType)} join${r} ${n?(0,$.i6)`${$.i6.identifier(n)}.`:void 0}${$.i6.identifier(s)}${a&&(0,$.i6)` ${$.i6.identifier(a)}`} on ${t.on}`)}else _.push((0,$.i6)`${$.i6.raw(t.joinType)} join${r} ${i} on ${t.on}`);e<l.length-1&&_.push((0,$.i6)` `)}let P=$.i6.join(_),E=r?(0,$.i6)` where ${r}`:void 0,q=a?(0,$.i6)` having ${a}`:void 0;u&&u.length>0&&(y=(0,$.i6)` order by ${$.i6.join(u,(0,$.i6)`, `)}`),c&&c.length>0&&(b=(0,$.i6)` group by ${$.i6.join(c,(0,$.i6)`, `)}`);let D=d?(0,$.i6)` limit ${d}`:void 0,z=h?(0,$.i6)` offset ${h}`:void 0,k=$.i6.empty();if(f){let e=(0,$.i6)` for ${$.i6.raw(f.strength)}`;f.config.of&&e.append((0,$.i6)` of ${$.i6.join(Array.isArray(f.config.of)?f.config.of:[f.config.of],(0,$.i6)`, `)}`),f.config.noWait?e.append((0,$.i6)` no wait`):f.config.skipLocked&&e.append((0,$.i6)` skip locked`),k.append(e)}let M=(0,$.i6)`${S}select${g} ${T} from ${A}${P}${E}${b}${q}${y}${D}${z}${k}`;return m.length>0?this.buildSetOperations(M,m):M}buildSetOperations(e,t){let[i,...r]=t;if(!i)throw Error("Cannot pass undefined values to any set operator");return 0===r.length?this.buildSetOperationQuery({leftSelect:e,setOperator:i}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:i}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:i,rightSelect:r,limit:n,orderBy:a,offset:l}}){let u;let c=(0,$.i6)`(${e.getSQL()}) `,d=(0,$.i6)`(${r.getSQL()})`;if(a&&a.length>0){let e=[];for(let t of a)if((0,s.is)(t,o.df))e.push($.i6.identifier(t.name));else if((0,s.is)(t,$.$s)){for(let e=0;e<t.queryChunks.length;e++){let i=t.queryChunks[e];(0,s.is)(i,o.df)&&(t.queryChunks[e]=$.i6.identifier(i.name))}e.push((0,$.i6)`${t}`)}else e.push((0,$.i6)`${t}`);u=(0,$.i6)` order by ${$.i6.join(e,(0,$.i6)`, `)} `}let h=n?(0,$.i6)` limit ${n}`:void 0,f=$.i6.raw(`${t} ${i?"all ":""}`),p=l?(0,$.i6)` offset ${l}`:void 0;return(0,$.i6)`${c}${f}${d}${u}${h}${p}`}buildInsertQuery({table:e,values:t,onConflict:i,returning:r,withList:n}){let a=[],o=Object.entries(e[O.iA.Symbol.Columns]),l=o.map(([,e])=>$.i6.identifier(e.name));for(let[e,i]of t.entries()){let r=[];for(let[e,t]of o){let n=i[e];if(void 0===n||(0,s.is)(n,$.dO)&&void 0===n.value){if(void 0!==t.defaultFn){let e=t.defaultFn(),i=(0,s.is)(e,$.$s)?e:$.i6.param(e,t);r.push(i)}else r.push((0,$.i6)`default`)}else r.push(n)}a.push(r),e<t.length-1&&a.push((0,$.i6)`, `)}let u=this.buildWithCTE(n),c=$.i6.join(a),d=r?(0,$.i6)` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,h=i?(0,$.i6)` on conflict ${i}`:void 0;return(0,$.i6)`${u}insert into ${e} ${l} values ${c}${h}${d}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:i}){let r=t?(0,$.i6)` concurrently`:void 0,n=i?(0,$.i6)` with no data`:void 0;return(0,$.i6)`refresh materialized view${r} ${e}${n}`}prepareTyping(e){return(0,s.is)(e,u)||(0,s.is)(e,d)?"json":(0,s.is)(e,f)?"decimal":(0,s.is)(e,g)?"time":(0,s.is)(e,y.sC)?"timestamp":(0,s.is)(e,v)?"date":(0,s.is)(e,A)?"uuid":"none"}sqlToQuery(e){return e.toQuery({escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping})}buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:i,table:o,tableConfig:l,queryConfig:u,tableAlias:c,nestedQueryRelation:d,joinOn:h}){let f,p=[],m,g,y=[],b,v=[];if(!0===u)p=Object.entries(l.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:(0,r.lw)(t,c),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let a=Object.fromEntries(Object.entries(l.columns).map(([e,t])=>[e,(0,r.lw)(t,c)]));if(u.where){let e="function"==typeof u.where?u.where(a,(0,_.vU)()):u.where;b=e&&(0,r.UI)(e,c)}let o=[],d=[];if(u.columns){let e=!1;for(let[t,i]of Object.entries(u.columns))void 0!==i&&t in l.columns&&(e||!0!==i||(e=!0),d.push(t));d.length>0&&(d=e?d.filter(e=>u.columns?.[e]===!0):Object.keys(l.columns).filter(e=>!d.includes(e)))}else d=Object.keys(l.columns);for(let e of d){let t=l.columns[e];o.push({tsKey:e,value:t})}let h=[];if(u.with&&(h=Object.entries(u.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:l.relations[e]}))),u.extras)for(let[e,t]of Object.entries("function"==typeof u.extras?u.extras(a,{sql:$.i6}):u.extras))o.push({tsKey:e,value:(0,r.qD)(t,c)});for(let{tsKey:e,value:t}of o)p.push({dbKey:(0,s.is)(t,$.$s.Aliased)?t.fieldAlias:l.columns[e].name,tsKey:e,field:(0,s.is)(t,n.s)?(0,r.lw)(t,c):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let f="function"==typeof u.orderBy?u.orderBy(a,(0,_.pl)()):u.orderBy??[];for(let{tsKey:a,queryConfig:o,relation:l}of(Array.isArray(f)||(f=[f]),y=f.map(e=>(0,s.is)(e,n.s)?(0,r.lw)(e,c):(0,r.UI)(e,c)),m=u.limit,g=u.offset,h)){let n=(0,_.wG)(t,i,l),u=i[l.referencedTable[O.iA.Symbol.Name]],d=`${c}_${a}`,h=(0,P.xD)(...n.fields.map((e,t)=>(0,P.eq)((0,r.lw)(n.references[t],d),(0,r.lw)(e,c)))),f=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:i,table:e[u],tableConfig:t[u],queryConfig:(0,s.is)(l,_.fh)?!0===o?{limit:1}:{...o,limit:1}:o,tableAlias:d,joinOn:h,nestedQueryRelation:l}),m=(0,$.i6)`${$.i6.identifier(d)}.${$.i6.identifier("data")}`.as(a);v.push({on:(0,$.i6)`true`,table:new x.k(f.sql,{},d),alias:d,joinType:"left",lateral:!0}),p.push({dbKey:a,tsKey:a,field:m,relationTableTsKey:u,isJson:!0,selection:f.selection})}}if(0===p.length)throw new a.k({message:`No fields selected for table "${l.tsName}" ("${c}")`});if(b=(0,P.xD)(h,b),d){let e=(0,$.i6)`json_build_array(${$.i6.join(p.map(({field:e,tsKey:t,isJson:i})=>i?(0,$.i6)`${$.i6.identifier(`${c}_${t}`)}.${$.i6.identifier("data")}`:(0,s.is)(e,$.$s.Aliased)?e.sql:e),(0,$.i6)`, `)})`;(0,s.is)(d,_.sj)&&(e=(0,$.i6)`coalesce(json_agg(${e}${y.length>0?(0,$.i6)` order by ${$.i6.join(y,(0,$.i6)`, `)}`:void 0}), '[]'::json)`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:l.tsName,selection:p}];void 0!==m||void 0!==g||y.length>0?(f=this.buildSelectQuery({table:(0,r.RQ)(o,c),fields:{},fieldsFlat:[{path:[],field:$.i6.raw("*")}],where:b,limit:m,offset:g,orderBy:y,setOperators:[]}),b=void 0,m=void 0,g=void 0,y=[]):f=(0,r.RQ)(o,c),f=this.buildSelectQuery({table:(0,s.is)(f,N.YA)?f:new x.k(f,{},c),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:(0,s.is)(e,n.s)?(0,r.lw)(e,c):e})),joins:v,where:b,limit:m,offset:g,orderBy:y,setOperators:[]})}else f=this.buildSelectQuery({table:(0,r.RQ)(o,c),fields:{},fieldsFlat:p.map(({field:e})=>({path:[],field:(0,s.is)(e,n.s)?(0,r.lw)(e,c):e})),joins:v,where:b,limit:m,offset:g,orderBy:y,setOperators:[]});return{tableTsKey:l.tsName,sql:f,selection:p}}}},8820:(e,t,i)=>{"use strict";i.d(t,{$G:()=>l,FX:()=>c,_X:()=>u});var r=i(9326),n=i(7754),s=i(4149),a=i(836),o=i(3369);class l{constructor(e){this.query=e}getQuery(){return this.query}mapResult(e,t){return e}static [r.Q]="PgPreparedQuery";joinsNotNullableMap}class u{constructor(e){this.dialect=e}static [r.Q]="PgSession";execute(e){return a.Z.startActiveSpan("drizzle.operation",()=>a.Z.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0)).execute())}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0).all()}}class c extends o.M{constructor(e,t,i,r=0){super(e,t,i),this.schema=i,this.nestedIndex=r}static [r.Q]="PgTransaction";rollback(){throw new n.F}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),s.i6.raw(t.join(" "))}setTransaction(e){return this.session.execute((0,s.i6)`set transaction ${this.getTransactionConfigSQL(e)}`)}}},8324:(e,t,i)=>{"use strict";i.d(t,{YA:()=>a,af:()=>o});var r=i(9326),n=i(298);let s=Symbol.for("drizzle:PgInlineForeignKeys");class a extends n.iA{static [r.Q]="PgTable";static Symbol=Object.assign({},n.iA.Symbol,{InlineForeignKeys:s});[s]=[];[n.iA.Symbol.ExtraConfigBuilder]=void 0}let o=(e,t,i)=>(function(e,t,i,r,o=e){let l=new a(e,r,o),u=Object.fromEntries(Object.entries(t).map(([e,t])=>{let i=t.build(l);return l[s].push(...t.buildForeignKeys(i,l)),[e,i]})),c=Object.assign(l,u);return c[n.iA.Symbol.Columns]=u,i&&(c[a.Symbol.ExtraConfigBuilder]=i),c})(e,t,i,void 0)},7642:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var r=i(9326),n=i(4149);class s extends n.G7{static [r.Q]="PgViewBase"}},1613:(e,t,i)=>{"use strict";i.d(t,{sj:()=>g,fh:()=>m,_J:()=>S,pb:()=>v,vU:()=>y,pl:()=>b,WX:()=>function e(t,i,r,a,o=e=>e){let l={};for(let[u,d]of a.entries())if(d.isJson){let n=i.relations[d.tsKey],a=r[u],c="string"==typeof a?JSON.parse(a):a;l[d.tsKey]=(0,s.is)(n,m)?c&&e(t,t[d.relationTableTsKey],c,d.selection,o):c.map(i=>e(t,t[d.relationTableTsKey],i,d.selection,o))}else{let e;let t=o(r[u]),i=d.field;e=(0,s.is)(i,n.s)?i:(0,s.is)(i,c.$s)?i.decoder:i.sql.decoder,l[d.tsKey]=null===t?null:e.mapFromDriverValue(t)}return l},wG:()=>w});var r=i(298),n=i(3596),s=i(9326),a=i(8324);class o{static [s.Q]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new l(e,this.columns,this.name)}}class l{constructor(e,t,i){this.table=e,this.columns=t,this.name=i}static [s.Q]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[a.YA.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}var u=i(7745),c=i(4149);function d(e){return(0,c.i6)`${e} asc`}function h(e){return(0,c.i6)`${e} desc`}class f{constructor(e,t,i){this.sourceTable=e,this.referencedTable=t,this.relationName=i,this.referencedTableName=t[r.iA.Symbol.Name]}static [s.Q]="Relation";referencedTableName;fieldName}class p{constructor(e,t){this.table=e,this.config=t}static [s.Q]="Relations"}class m extends f{constructor(e,t,i,r){super(e,t,i?.relationName),this.config=i,this.isNullable=r}static [s.Q]="One";withFieldName(e){let t=new m(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class g extends f{constructor(e,t,i){super(e,t,i?.relationName),this.config=i}static [s.Q]="Many";withFieldName(e){let t=new g(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function y(){return{and:u.xD,between:u.vX,eq:u.eq,exists:u.Gg,gt:u.gt,gte:u.eg,ilike:u.o$,inArray:u.d3,isNull:u.Ft,isNotNull:u.K0,like:u.vL,lt:u.lt,lte:u.G,ne:u.ne,not:u.ff,notBetween:u.OL,notExists:u.UN,notLike:u.Qg,notIlike:u.mM,notInArray:u.Nl,or:u.or,sql:c.i6}}function b(){return{sql:c.i6,asc:d,desc:h}}function v(e,t){1===Object.keys(e).length&&"default"in e&&!(0,s.is)(e.default,r.iA)&&(e=e.default);let i={},n={},a={};for(let[l,u]of Object.entries(e))if((0,r.wb)(u)){let e=u[r.iA.Symbol.Name],t=n[e];for(let n of(i[e]=l,a[l]={tsName:l,dbName:u[r.iA.Symbol.Name],schema:u[r.iA.Symbol.Schema],columns:u[r.iA.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(u[r.iA.Symbol.Columns])))n.primary&&a[l].primaryKey.push(n);let c=u[r.iA.Symbol.ExtraConfigBuilder]?.(u);if(c)for(let e of Object.values(c))(0,s.is)(e,o)&&a[l].primaryKey.push(...e.columns)}else if((0,s.is)(u,p)){let e;let s=u.table[r.iA.Symbol.Name],o=i[s];for(let[i,r]of Object.entries(u.config(t(u.table))))if(o){let t=a[o];t.relations[i]=r,e&&t.primaryKey.push(...e)}else s in n||(n[s]={relations:{},primaryKey:e}),n[s].relations[i]=r}return{tables:a,tableNamesMap:i}}function w(e,t,i){if((0,s.is)(i,m)&&i.config)return{fields:i.config.fields,references:i.config.references};let n=t[i.referencedTable[r.iA.Symbol.Name]];if(!n)throw Error(`Table "${i.referencedTable[r.iA.Symbol.Name]}" not found in schema`);let a=e[n];if(!a)throw Error(`Table "${n}" not found in schema`);let o=i.sourceTable,l=t[o[r.iA.Symbol.Name]];if(!l)throw Error(`Table "${o[r.iA.Symbol.Name]}" not found in schema`);let u=[];for(let e of Object.values(a.relations))(i.relationName&&i!==e&&e.relationName===i.relationName||!i.relationName&&e.referencedTable===i.sourceTable)&&u.push(e);if(u.length>1)throw i.relationName?Error(`There are multiple relations with name "${i.relationName}" in table "${n}"`):Error(`There are multiple relations between "${n}" and "${i.sourceTable[r.iA.Symbol.Name]}". Please specify relation name`);if(u[0]&&(0,s.is)(u[0],m)&&u[0].config)return{fields:u[0].config.references,references:u[0].config.fields};throw Error(`There is not enough information to infer relation "${l}.${i.fieldName}"`)}function S(e){return{one:function(t,i){return new m(e,t,i,i?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,i){return new g(e,t,i)}}}},7745:(e,t,i)=>{"use strict";i.d(t,{Ft:()=>v,G:()=>g,Gg:()=>S,K0:()=>w,Nl:()=>b,OL:()=>A,Qg:()=>_,UN:()=>$,d3:()=>y,eg:()=>p,eq:()=>l,ff:()=>h,gt:()=>f,lt:()=>m,mM:()=>x,ne:()=>u,o$:()=>P,or:()=>d,vL:()=>N,vX:()=>T,xD:()=>c});var r=i(3596),n=i(9326),s=i(298),a=i(4149);function o(e,t){return!(0,a._B)(t)||(0,a.zl)(e)||(0,n.is)(e,a.dO)||(0,n.is)(e,a.Vm)||(0,n.is)(e,r.s)||(0,n.is)(e,s.iA)||(0,n.is)(e,a.G7)?e:new a.dO(e,t)}let l=(e,t)=>(0,a.i6)`${e} = ${o(t,e)}`,u=(e,t)=>(0,a.i6)`${e} <> ${o(t,e)}`;function c(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new a.$s(1===t.length?t:[new a.Zm("("),a.i6.join(t,new a.Zm(" and ")),new a.Zm(")")])}function d(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new a.$s(1===t.length?t:[new a.Zm("("),a.i6.join(t,new a.Zm(" or ")),new a.Zm(")")])}function h(e){return(0,a.i6)`not ${e}`}let f=(e,t)=>(0,a.i6)`${e} > ${o(t,e)}`,p=(e,t)=>(0,a.i6)`${e} >= ${o(t,e)}`,m=(e,t)=>(0,a.i6)`${e} < ${o(t,e)}`,g=(e,t)=>(0,a.i6)`${e} <= ${o(t,e)}`;function y(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("inArray requires at least one value");return(0,a.i6)`${e} in ${t.map(t=>o(t,e))}`}return(0,a.i6)`${e} in ${o(t,e)}`}function b(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("notInArray requires at least one value");return(0,a.i6)`${e} not in ${t.map(t=>o(t,e))}`}return(0,a.i6)`${e} not in ${o(t,e)}`}function v(e){return(0,a.i6)`${e} is null`}function w(e){return(0,a.i6)`${e} is not null`}function S(e){return(0,a.i6)`exists ${e}`}function $(e){return(0,a.i6)`not exists ${e}`}function T(e,t,i){return(0,a.i6)`${e} between ${o(t,e)} and ${o(i,e)}`}function A(e,t,i){return(0,a.i6)`${e} not between ${o(t,e)} and ${o(i,e)}`}function N(e,t){return(0,a.i6)`${e} like ${t}`}function _(e,t){return(0,a.i6)`${e} not like ${t}`}function P(e,t){return(0,a.i6)`${e} ilike ${t}`}function x(e,t){return(0,a.i6)`${e} not ilike ${t}`}},4149:(e,t,i)=>{"use strict";i.d(t,{$s:()=>h,G7:()=>S,Pr:()=>w,Vm:()=>v,Zm:()=>d,_B:()=>p,dO:()=>y,i6:()=>b,zl:()=>c});var r=i(9326),n=i(8586),s=i(836),a=i(7029),o=i(3596),l=i(298);class u{static [r.Q]=null}function c(e){return"object"==typeof e&&null!==e&&"getSQL"in e&&"function"==typeof e.getSQL}class d{static [r.Q]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new h([this])}}class h{constructor(e){this.queryChunks=e}static [r.Q]="SQL";decoder=m;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return s.Z.startActiveSpan("drizzle.buildSQL",t=>{let i=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(e,t){let i=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{escapeName:s,escapeParam:u,prepareTyping:p,inlineParams:m,paramStartIndex:g}=i;return function(e){let t={sql:"",params:[]};for(let i of e)t.sql+=i.sql,t.params.push(...i.params),i.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...i.typings));return t}(e.map(e=>{if((0,r.is)(e,d))return{sql:e.value.join(""),params:[]};if((0,r.is)(e,f))return{sql:s(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new d("(")];for(let[i,r]of e.entries())t.push(r),i<e.length-1&&t.push(new d(", "));return t.push(new d(")")),this.buildQueryFromSourceParams(t,i)}if((0,r.is)(e,h))return this.buildQueryFromSourceParams(e.queryChunks,{...i,inlineParams:m||e.shouldInlineParams});if((0,r.is)(e,l.iA)){let t=e[l.iA.Symbol.Schema],i=e[l.iA.Symbol.Name];return{sql:void 0===t?s(i):s(t)+"."+s(i),params:[]}}if((0,r.is)(e,o.s))return{sql:s(e.table[l.iA.Symbol.Name])+"."+s(e.name),params:[]};if((0,r.is)(e,S)){let t=e[a.d].schema,i=e[a.d].name;return{sql:void 0===t?s(i):s(t)+"."+s(i),params:[]}}if((0,r.is)(e,y)){let t;let n=null===e.value?null:e.encoder.mapToDriverValue(e.value);return(0,r.is)(n,h)?this.buildQueryFromSourceParams([n],i):m?{sql:this.mapInlineParam(n,i),params:[]}:(void 0!==p&&(t=[p(e.encoder)]),{sql:u(g.value++,n),params:[n],typings:t})}return(0,r.is)(e,v)?{sql:u(g.value++,e),params:[e]}:(0,r.is)(e,h.Aliased)&&void 0!==e.fieldAlias?{sql:s(e.fieldAlias),params:[]}:(0,r.is)(e,n.k)?e[n.g1].isWith?{sql:s(e[n.g1].alias),params:[]}:this.buildQueryFromSourceParams([new d("("),e[n.g1].sql,new d(") "),new f(e[n.g1].alias)],i):c(e)?this.buildQueryFromSourceParams([new d("("),e.getSQL(),new d(")")],i):m?{sql:this.mapInlineParam(e,i),params:[]}:{sql:u(g.value++,e),params:[e]}}))}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let i=e.toString();return"[object Object]"===i?t(JSON.stringify(e)):t(i)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new h.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}}class f{constructor(e){this.value=e}static [r.Q]="Name";brand;getSQL(){return new h([this])}}function p(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let m={mapFromDriverValue:e=>e},g={mapToDriverValue:e=>e};({...m,...g});class y{constructor(e,t=g){this.value=e,this.encoder=t}static [r.Q]="Param";brand;getSQL(){return new h([this])}}function b(e,...t){let i=[];for(let[r,n]of((t.length>0||e.length>0&&""!==e[0])&&i.push(new d(e[0])),t.entries()))i.push(n,new d(e[r+1]));return new h(i)}(e=>{e.empty=function(){return new h([])},e.fromList=function(e){return new h(e)},e.raw=function(e){return new h([new d(e)])},e.join=function(e,t){let i=[];for(let[r,n]of e.entries())r>0&&void 0!==t&&i.push(t),i.push(n);return new h(i)},e.identifier=function(e){return new f(e)},e.placeholder=function(e){return new v(e)},e.param=function(e,t){return new y(e,t)}})(b||(b={})),(e=>{class t{constructor(e,t){this.sql=e,this.fieldAlias=t}static [r.Q]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(h||(h={}));class v{constructor(e){this.name=e}static [r.Q]="Placeholder";getSQL(){return new h([this])}}function w(e,t){return e.map(e=>{if((0,r.is)(e,v)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}return e})}class S{static [r.Q]="View";[a.d];constructor({name:e,schema:t,selectedFields:i,query:r}){this[a.d]={name:e,originalName:e,schema:t,selectedFields:i,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new h([this])}}o.s.prototype.getSQL=function(){return new h([this])},l.iA.prototype.getSQL=function(){return new h([this])},n.k.prototype.getSQL=function(){return new h([this])}},8586:(e,t,i)=>{"use strict";i.d(t,{SC:()=>a,g1:()=>n,k:()=>s});var r=i(9326);let n=Symbol.for("drizzle:SubqueryConfig");class s{static [r.Q]="Subquery";[n];constructor(e,t,i,r=!1){this[n]={sql:e,selection:t,alias:i,isWith:r}}}class a extends s{static [r.Q]="WithSubquery"}},298:(e,t,i)=>{"use strict";i.d(t,{SP:()=>p,iA:()=>h,wb:()=>f});var r=i(9326);let n=Symbol.for("drizzle:Name"),s=Symbol.for("drizzle:Schema"),a=Symbol.for("drizzle:Columns"),o=Symbol.for("drizzle:OriginalName"),l=Symbol.for("drizzle:BaseName"),u=Symbol.for("drizzle:IsAlias"),c=Symbol.for("drizzle:ExtraConfigBuilder"),d=Symbol.for("drizzle:IsDrizzleTable");class h{static [r.Q]="Table";static Symbol={Name:n,Schema:s,OriginalName:o,Columns:a,BaseName:l,IsAlias:u,ExtraConfigBuilder:c};[n];[o];[s];[a];[l];[u]=!1;[c]=void 0;[d]=!0;constructor(e,t,i){this[n]=this[o]=e,this[s]=t,this[l]=i}}function f(e){return"object"==typeof e&&null!==e&&d in e}function p(e){return e[n]}},9082:(e,t,i)=>{"use strict";function r(e,...t){return e(...t)}i.d(t,{t:()=>r})},836:(e,t,i)=>{"use strict";let r,n;i.d(t,{Z:()=>a});var s=i(9082);let a={startActiveSpan:(e,t)=>r?(n||(n=r.trace.getTracer("drizzle-orm","0.29.5")),(0,s.t)((i,r)=>r.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:i.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),r,n)):t()}},9237:(e,t,i)=>{"use strict";i.d(t,{M4:()=>u,M6:()=>d,SS:()=>f,ZS:()=>function e(t,i){return Object.entries(t).reduce((t,[a,l])=>{if("string"!=typeof a)return t;let u=i?[...i,a]:[a];return(0,n.is)(l,r.s)||(0,n.is)(l,s.$s)||(0,n.is)(l,s.$s.Aliased)?t.push({path:u,field:l}):(0,n.is)(l,o.iA)?t.push(...e(l[o.iA.Symbol.Columns],u)):t.push(...e(l,u)),t},[])},dP:()=>p,ef:()=>h,ux:()=>c});var r=i(3596),n=i(9326),s=i(4149),a=i(8586),o=i(298),l=i(7029);function u(e,t,i){let a={},l=e.reduce((e,{path:l,field:u},c)=>{let d;d=(0,n.is)(u,r.s)?u:(0,n.is)(u,s.$s)?u.decoder:u.sql.decoder;let h=e;for(let[e,s]of l.entries())if(e<l.length-1)s in h||(h[s]={}),h=h[s];else{let e=t[c],f=h[s]=null===e?null:d.mapFromDriverValue(e);if(i&&(0,n.is)(u,r.s)&&2===l.length){let e=l[0];e in a?"string"==typeof a[e]&&a[e]!==(0,o.SP)(u.table)&&(a[e]=!1):a[e]=null===f&&(0,o.SP)(u.table)}}return e},{});if(i&&Object.keys(a).length>0)for(let[e,t]of Object.entries(a))"string"!=typeof t||i[t]||(l[e]=null);return l}function c(e,t){let i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(let[e,t]of i.entries())if(t!==r[e])return!1;return!0}function d(e,t){let i=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,i])=>(0,n.is)(i,s.$s)?[t,i]:[t,new s.dO(i,e[o.iA.Symbol.Columns][t])]);if(0===i.length)throw Error("No values to set");return Object.fromEntries(i)}function h(e,t){for(let i of t)for(let t of Object.getOwnPropertyNames(i.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(i.prototype,t)||Object.create(null))}function f(e){return e[o.iA.Symbol.Columns]}function p(e){return(0,n.is)(e,a.k)?e[a.g1].alias:(0,n.is)(e,s.G7)?e[l.d].name:(0,n.is)(e,s.$s)?void 0:e[o.iA.Symbol.IsAlias]?e[o.iA.Symbol.Name]:e[o.iA.Symbol.BaseName]}},7029:(e,t,i)=>{"use strict";i.d(t,{d:()=>r});let r=Symbol.for("drizzle:ViewBaseConfig")},5487:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(1159),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var a=(e,t)=>{let i=(0,r.forwardRef)(({color:i="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:u,...c},d)=>(0,r.createElement)("svg",{ref:d,...n,width:a,height:a,stroke:i,strokeWidth:l?24*Number(o)/Number(a):o,className:`lucide lucide-${s(e)}`,...c},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...(Array.isArray(u)?u:[u])||[]]));return i.displayName=`${e}`,i}},3276:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=(0,i(5487).Z)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]])},2041:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=(0,i(5487).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[819],()=>i(325));module.exports=r})();